pipeline {
  agent { node { label 'austin' } }
    environment {
      docker_args="--device=/dev/kfd --device=/dev/dri --group-add video --group-add render --cap-add=SYS_PTRACE --security-opt seccomp=unconfined -v=/var/jenkins/:/var/jenkins"
      CREDS = credentials("$DOCKER_CRED")
  }
  parameters {
    string(name: 'MIOPEN_GOLDEN_PERF_BRANCH', defaultValue: 'develop', description: '')
    string(name: 'PERF_TEST_OVERRIDE', defaultValue: '',  description: 'Add extra env vars for the MIOpenDriver cmd, comma separated')
    choice(name: 'PERF_TEST_FP16', choices: ['Yes', 'No'], description: 'Overwrite baseline')
    choice(name: 'PERF_TEST_FP32', choices: ['Yes', 'No'], description: 'Overwrite baseline')
    choice(name: 'PERF_TEST', choices: ['Yes', 'No'], description: 'Overwrite baseline')
    choice(name: 'PERF_TEST_BRANCH_OVERRIDE', choices: ['Yes', 'No'], description: 'Overwrite baseline results with results from this branch')
  }
  stages {
        stage("Performance Tests - gfx942") {
            when {
                expression {params.PERF_TEST && params.TARGET_GFX90A}
            }
            parallel{
                stage('Fp32 BS128 Hip Performance Resnet50_v1.5 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        sh "TEST"
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Resnet50_v1.5_FP32_BS128.txt" )
                    }
                }
                stage('Fp32 BS256 Hip Performance Resnet50_v1.5 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Resnet50_v1.5_FP32_BS256.txt" )
                    }
                }
                stage('Fp32 BS512 Hip Performance Resnet50_v1.5 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Resnet50_v1.5_FP32_BS512.txt" )
                    }
                }
                stage('Fp16 BS128 Hip Performance Resnet50_v1.5 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Resnet50_v1.5_FP16_BS128.txt" )
                    }
                }
                stage('Fp16 BS256 Hip Performance Resnet50_v1.5 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Resnet50_v1.5_FP16_BS256.txt" )
                    }
                }
                stage('Fp16 BS512 Hip Performance Resnet50_v1.5 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Resnet50_v1.5_FP16_BS512.txt" )
                    }
                }
                stage('Fp16 BS128 Hip Performance Alexnet_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Alexnet_v1_FP16_BS128.txt" )
                    }
                }
                stage('Fp16 BS512 Hip Performance Alexnet_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Alexnet_v1_FP16_BS512.txt" )
                    }
                }
                stage('Fp32 BS4 Hip Performance Alexnet_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Alexnet_v1_FP32_BS4.txt" )
                    }
                }
                stage('Fp32 BS64 Hip Performance Alexnet_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Alexnet_v1_FP32_BS64.txt" )
                    }
                }
                stage('Fp32 BS128 Hip Performance Alexnet_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Alexnet_v1_FP32_BS128.txt" )
                    }
                }
                stage('Fp32 BS512 Hip Performance Alexnet_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Alexnet_v1_FP32_BS512.txt" )
                    }
                }
                stage('Fp16 BS256 Hip Performance Densenet201_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Densenet201_v1_FP16_BS256.txt" )
                    }
                }
                stage('Fp32 BS256 Hip Performance Densenet201_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Densenet201_v1_FP32_BS256.txt" )
                    }
                }
                stage('Fp16 BS256 Hip Performance Densenet_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Densenet_v1_FP16_BS256.txt" )
                    }
                }
                stage('Fp32 BS256 Hip Performance Densenet_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Densenet_v1_FP32_BS256.txt" )
                    }
                }
                stage('Fp16 BS128 Hip Performance Googlenet_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Googlenet_v1_FP16_BS128.txt" )
                    }
                }
                stage('Fp16 BS512 Hip Performance Googlenet_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Googlenet_v1_FP16_BS512.txt" )
                    }
                }
                stage('Fp32 BS128 Hip Performance Googlenet_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Googlenet_v1_FP32_BS128.txt" )
                    }
                }
                stage('Fp32 BS512 Hip Performance Googlenet_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Googlenet_v1_FP32_BS512.txt" )
                    }
                }
                stage('Fp16 BS128 Hip Performance Inception3_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Inception3_v1_FP16_BS128.txt" )
                    }
                }
                stage('Fp32 BS128 Hip Performance Inception3_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Inception3_v1_FP32_BS128.txt" )
                    }
                }
                stage('Fp32 BS512 Hip Performance Inception3_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Inception3_v1_FP32_BS512.txt" )
                    }
                }
                stage('Fp16 BS128 Hip Performance Inception4_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Inception4_v1_FP16_BS128.txt" )
                    }
                }
                stage('Fp16 BS512 Hip Performance Inception4_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Inception4_v1_FP16_BS512.txt" )
                    }
                }
                stage('Fp32 BS128 Hip Performance Inception4_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Inception4_v1_FP32_BS128.txt" )
                    }
                }
                stage('Fp32 BS512 Hip Performance Inception4_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Inception4_v1_FP32_BS512.txt" )
                    }
                }
                stage('Fp32 BS4 Hip Performance Mobilenet_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Mobilenet_v1_FP32_BS4.txt" )
                    }
                }
                stage('Fp32 BS64 Hip Performance Mobilenet_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Mobilenet_v1_FP32_BS64.txt" )
                    }
                }
                stage('Fp16 BS32 Hip Performance Resnet101_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Resnet101_v1_FP16_BS32.txt" )
                    }
                }
                stage('Fp16 BS128 Hip Performance Resnet101_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Resnet101_v1_FP16_BS128.txt" )
                    }
                }
                stage('Fp16 BS256 Hip Performance Resnet101_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Resnet101_v1_FP16_BS256.txt" )
                    }
                }
                stage('Fp16 BS512 Hip Performance Resnet101_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Resnet101_v1_FP16_BS512.txt" )
                    }
                }
                stage('Fp32 BS128 Hip Performance Resnet101_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Resnet101_v1_FP32_BS128.txt" )
                    }
                }
                stage('Fp32 BS256 Hip Performance Resnet101_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Resnet101_v1_FP32_BS256.txt" )
                    }
                }
                stage('Fp32 BS512 Hip Performance Resnet101_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Resnet101_v1_FP32_BS512.txt" )
                    }
                }
                stage('Fp16 BS256 Hip Performance Resnet152_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Resnet152_v1_FP16_BS256.txt" )
                    }
                }
                stage('Fp32 BS256 Hip Performance Resnet152_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Resnet152_v1_FP32_BS256.txt" )
                    }
                }
                stage('Fp16 BS128 Hip Performance Resnet152_v2 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Resnet152_v2_FP16_BS128.txt" )
                    }
                }
                stage('Fp16 BS512 Hip Performance Resnet152_v2 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Resnet152_v2_FP16_BS512.txt" )
                    }
                }
                stage('Fp32 BS128 Hip Performance Resnet152_v2 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Resnet152_v2_FP32_BS128.txt" )
                    }
                }
                stage('Fp32 BS512 Hip Performance Resnet152_v2 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Resnet152_v2_FP32_BS512.txt" )
                    }
                }
                stage('Fp16 BS32 Hip Performance Resnet50_v1 gfx90a'){

                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Resnet50_v1_FP16_BS32.txt" )
                    }
                }
                stage('Fp16 BS64 Hip Performance Resnet50_v1 gfx90a'){

                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Resnet50_v1_FP16_BS64.txt" )
                    }
                }
                stage('Fp16 BS128 Hip Performance Resnet50_v1 gfx90a'){

                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Resnet50_v1_FP16_BS128.txt" )
                    }
                }
                stage('Fp16 BS256 Hip Performance Resnet50_v1 gfx90a'){

                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Resnet50_v1_FP16_BS256.txt" )
                    }
                }
                stage('Fp16 B512 Hip Performance Resnet50_v1 gfx90a'){

                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Resnet50_v1_FP16_BS512.txt" )
                    }
                }
                stage('Fp32 BS128 Hip Performance Resnet50_v1 gfx90a'){

                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Resnet50_v1_FP32_BS128.txt" )
                    }
                }
                stage('Fp32 BS256 Hip Performance Resnet50_v1 gfx90a'){

                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Resnet50_v1_FP32_BS256.txt" )
                    }
                }
                stage('Fp32 BS512 Hip Performance Resnet50_v1 gfx90a'){

                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Resnet50_v1_FP32_BS512.txt" )
                    }
                }
                stage('Fp16 BS128 Hip Performance Shufflenet_v2 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "Shufflenet_v2_FP16_BS128.txt" )
                    }
                }
                stage('Fp16 BS128 Hip Performance SSD_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "SSD_v1_FP16_BS128.txt" )
                    }
                }
                stage('Fp32 BS128 Hip Performance SSD_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "SSD_v1_FP32_BS128.txt" )
                    }
                }
                stage('Fp16 BS128 Hip Performance VGG11_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "VGG11_v1_FP16_BS128.txt" )
                    }
                }
                stage('Fp16 BS256 Hip Performance VGG11_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "VGG11_v1_FP16_BS256.txt" )
                    }
                }
                stage('Fp16 BS512 Hip Performance VGG11_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "VGG11_v1_FP16_BS512.txt" )
                    }
                }
                stage('Fp32 BS512 Hip Performance VGG11_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "VGG11_v1_FP32_BS512.txt" )
                    }
                }
                stage('Fp16 BS128 Hip Performance VGG16_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "VGG16_v1_FP16_BS128.txt" )
                    }
                }
                stage('Fp32 BS4 Hip Performance VGG16_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "VGG16_v1_FP32_BS4.txt" )
                    }
                }
                stage('Fp32 BS64 Hip Performance VGG16_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "VGG16_v1_FP32_BS64.txt" )
                    }
                }
                stage('Fp32 BS128 Hip Performance VGG16_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "VGG16_v1_FP32_BS128.txt" )
                    }
                }
                stage('Fp32 BS512 Hip Performance VGG16_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "VGG16_v1_FP32_BS512.txt" )
                    }
                }
                stage('Fp16 BS128 Hip Performance VGG19_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "VGG19_v1_FP16_BS128.txt" )
                    }
                }
                stage('Fp16 BS512 Hip Performance VGG19_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP16}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "VGG19_v1_FP16_BS512.txt" )
                    }
                }
                stage('Fp32 BS128 Hip Performance VGG19_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "VGG19_v1_FP32_BS128.txt" )
                    }
                }
                stage('Fp32 BS512 Hip Performance VGG19_v1 gfx90a'){
                    when {
                        expression {params.PERF_TEST_FP32}
                    }
                    agent{ label utils.rocmnode("austin")}
                    steps{
                        RunPerfTest(gpu_arch: "gfx90a", filename: "VGG19_v1_FP32_BS512.txt" )
                    }
                }
            }
        }
  }
}
